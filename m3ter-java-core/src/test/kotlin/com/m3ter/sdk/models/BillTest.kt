// File generated from our OpenAPI spec by Stainless.

package com.m3ter.sdk.models

import com.m3ter.sdk.core.JsonValue
import java.time.LocalDate
import java.time.OffsetDateTime
import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test

class BillTest {

    @Test
    fun createBill() {
        val bill =
            Bill.builder()
                .id("id")
                .version(0L)
                .accountCode("accountCode")
                .accountId("accountId")
                .billDate(LocalDate.parse("2019-12-27"))
                .billFrequencyInterval(0L)
                .billingFrequency(Bill.BillingFrequency.DAILY)
                .billJobId("billJobId")
                .billTotal(0.0)
                .createdBy("createdBy")
                .createdDate(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .csvStatementGenerated(true)
                .currency("currency")
                .addCurrencyConversion(
                    CurrencyConversion.builder().from("EUR").to("USD").multiplier(1.12).build()
                )
                .dtCreated(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .dtLastModified(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .dueDate(LocalDate.parse("2019-12-27"))
                .endDate(LocalDate.parse("2019-12-27"))
                .endDateTimeUtc(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .externalInvoiceDate(LocalDate.parse("2019-12-27"))
                .externalInvoiceReference("externalInvoiceReference")
                .jsonStatementGenerated(true)
                .lastCalculatedDate(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .lastModifiedBy("lastModifiedBy")
                .addLineItem(
                    Bill.LineItem.builder()
                        .averageUnitPrice(0.0)
                        .conversionRate(0.0)
                        .convertedSubtotal(0.0)
                        .currency("x")
                        .description("x")
                        .lineItemType(Bill.LineItem.LineItemType.STANDING_CHARGE)
                        .quantity(0.0)
                        .subtotal(0.0)
                        .unit("unit")
                        .units(0.0)
                        .id("id")
                        .aggregationId("aggregationId")
                        .balanceId("balanceId")
                        .chargeId("chargeId")
                        .childAccountCode("childAccountCode")
                        .childAccountId("childAccountId")
                        .commitmentId("commitmentId")
                        .compoundAggregationId("compoundAggregationId")
                        .contractId("contractId")
                        .counterId("counterId")
                        .creditTypeId("creditTypeId")
                        .group(
                            Bill.LineItem.Group.builder()
                                .putAdditionalProperty("foo", JsonValue.from("string"))
                                .build()
                        )
                        .meterId("meterId")
                        .planGroupId("planGroupId")
                        .planId("planId")
                        .pricingId("pricingId")
                        .productCode("productCode")
                        .productId("productId")
                        .productName("productName")
                        .reasonId("reasonId")
                        .referencedBillId("referencedBillId")
                        .referencedLineItemId("referencedLineItemId")
                        .segment(
                            Bill.LineItem.Segment.builder()
                                .putAdditionalProperty("foo", JsonValue.from("string"))
                                .build()
                        )
                        .sequenceNumber(0L)
                        .servicePeriodEndDate(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                        .servicePeriodStartDate(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                        .addUsagePerPricingBand(
                            Bill.LineItem.UsagePerPricingBand.builder()
                                .bandQuantity(0.0)
                                .bandSubtotal(0.0)
                                .bandUnits(0.0)
                                .creditTypeId("creditTypeId")
                                .fixedPrice(0.0)
                                .lowerLimit(0.0)
                                .pricingBandId("pricingBandId")
                                .unitPrice(0.0)
                                .unitSubtotal(0.0)
                                .build()
                        )
                        .build()
                )
                .locked(true)
                .purchaseOrderNumber("purchaseOrderNumber")
                .sequentialInvoiceNumber("sequentialInvoiceNumber")
                .startDate(LocalDate.parse("2019-12-27"))
                .startDateTimeUtc(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .status(Bill.Status.PENDING)
                .timezone("UTC")
                .build()
        assertThat(bill).isNotNull
        assertThat(bill.id()).isEqualTo("id")
        assertThat(bill.version()).isEqualTo(0L)
        assertThat(bill.accountCode()).contains("accountCode")
        assertThat(bill.accountId()).contains("accountId")
        assertThat(bill.billDate()).contains(LocalDate.parse("2019-12-27"))
        assertThat(bill.billFrequencyInterval()).contains(0L)
        assertThat(bill.billingFrequency()).contains(Bill.BillingFrequency.DAILY)
        assertThat(bill.billJobId()).contains("billJobId")
        assertThat(bill.billTotal()).contains(0.0)
        assertThat(bill.createdBy()).contains("createdBy")
        assertThat(bill.createdDate()).contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(bill.csvStatementGenerated()).contains(true)
        assertThat(bill.currency()).contains("currency")
        assertThat(bill.currencyConversions().get())
            .containsExactly(
                CurrencyConversion.builder().from("EUR").to("USD").multiplier(1.12).build()
            )
        assertThat(bill.dtCreated()).contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(bill.dtLastModified()).contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(bill.dueDate()).contains(LocalDate.parse("2019-12-27"))
        assertThat(bill.endDate()).contains(LocalDate.parse("2019-12-27"))
        assertThat(bill.endDateTimeUtc()).contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(bill.externalInvoiceDate()).contains(LocalDate.parse("2019-12-27"))
        assertThat(bill.externalInvoiceReference()).contains("externalInvoiceReference")
        assertThat(bill.jsonStatementGenerated()).contains(true)
        assertThat(bill.lastCalculatedDate())
            .contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(bill.lastModifiedBy()).contains("lastModifiedBy")
        assertThat(bill.lineItems().get())
            .containsExactly(
                Bill.LineItem.builder()
                    .averageUnitPrice(0.0)
                    .conversionRate(0.0)
                    .convertedSubtotal(0.0)
                    .currency("x")
                    .description("x")
                    .lineItemType(Bill.LineItem.LineItemType.STANDING_CHARGE)
                    .quantity(0.0)
                    .subtotal(0.0)
                    .unit("unit")
                    .units(0.0)
                    .id("id")
                    .aggregationId("aggregationId")
                    .balanceId("balanceId")
                    .chargeId("chargeId")
                    .childAccountCode("childAccountCode")
                    .childAccountId("childAccountId")
                    .commitmentId("commitmentId")
                    .compoundAggregationId("compoundAggregationId")
                    .contractId("contractId")
                    .counterId("counterId")
                    .creditTypeId("creditTypeId")
                    .group(
                        Bill.LineItem.Group.builder()
                            .putAdditionalProperty("foo", JsonValue.from("string"))
                            .build()
                    )
                    .meterId("meterId")
                    .planGroupId("planGroupId")
                    .planId("planId")
                    .pricingId("pricingId")
                    .productCode("productCode")
                    .productId("productId")
                    .productName("productName")
                    .reasonId("reasonId")
                    .referencedBillId("referencedBillId")
                    .referencedLineItemId("referencedLineItemId")
                    .segment(
                        Bill.LineItem.Segment.builder()
                            .putAdditionalProperty("foo", JsonValue.from("string"))
                            .build()
                    )
                    .sequenceNumber(0L)
                    .servicePeriodEndDate(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                    .servicePeriodStartDate(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                    .addUsagePerPricingBand(
                        Bill.LineItem.UsagePerPricingBand.builder()
                            .bandQuantity(0.0)
                            .bandSubtotal(0.0)
                            .bandUnits(0.0)
                            .creditTypeId("creditTypeId")
                            .fixedPrice(0.0)
                            .lowerLimit(0.0)
                            .pricingBandId("pricingBandId")
                            .unitPrice(0.0)
                            .unitSubtotal(0.0)
                            .build()
                    )
                    .build()
            )
        assertThat(bill.locked()).contains(true)
        assertThat(bill.purchaseOrderNumber()).contains("purchaseOrderNumber")
        assertThat(bill.sequentialInvoiceNumber()).contains("sequentialInvoiceNumber")
        assertThat(bill.startDate()).contains(LocalDate.parse("2019-12-27"))
        assertThat(bill.startDateTimeUtc())
            .contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(bill.status()).contains(Bill.Status.PENDING)
        assertThat(bill.timezone()).contains("UTC")
    }
}
